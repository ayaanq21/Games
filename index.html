<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Memory Game</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 1px 1px 5px #000;
    }

    .scoreboard {
      font-size: 1.1rem;
      margin-bottom: 20px;
      background: rgba(255, 255, 255, 0.1);
      padding: 10px 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    .game-board {
      display: grid;
      gap: 12px;
      justify-content: center;
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.4);
    }

    .card {
      width: 80px;
      height: 100px;
      background: #ffffff;
      color: #1e3c72;
      border-radius: 10px;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      user-select: none;
    }

    .card.flipped {
      background: #1e3c72;
      color: #ffffff;
    }

    .card.matched {
      background: #28a745;
      color: white;
      cursor: default;
      box-shadow: none;
    }
  </style>
</head>
<body>

  <h1>🧠 Memory Game</h1>
  <div class="scoreboard">
    Level: <span id="level">1</span> |
    Flips: <span id="flips">0</span>
  </div>

  <div id="game" class="game-board"></div>

  <script>
    const emojis = ['🐶','🐱','🦊','🐻','🐼','🐨','🐯','🦁','🐸','🐵','🐙','🦄','🐷','🐧','🐔','🐝','🦋','🐞','🦖','🐢'];
    const levelDisplay = document.getElementById('level');
    const flipsDisplay = document.getElementById('flips');
    const gameBoard = document.getElementById('game');

    let level = 1;
    let flipCount = 0;
    let flippedCards = [];
    let matchedPairs = 0;

    function startLevel() {
      // Clear board
      gameBoard.innerHTML = '';
      flippedCards = [];
      matchedPairs = 0;
      flipCount = 0;
      flipsDisplay.textContent = flipCount;
      levelDisplay.textContent = level;

      // Card count logic (even number only)
      let cardCount = 8 + (level - 1) * 3;
      if (cardCount % 2 !== 0) cardCount += 1;
      const pairs = cardCount / 2;

      // Pick emojis
      const levelEmojis = shuffle(emojis).slice(0, pairs);
      const cardValues = shuffle([...levelEmojis, ...levelEmojis]);

      // Set grid columns
      const columns = Math.min(6, Math.ceil(Math.sqrt(cardCount)));
      gameBoard.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

      // Create cards
      cardValues.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.dataset.index = index;
        card.dataset.emoji = emoji;
        card.textContent = '';
        card.addEventListener('click', () => flipCard(card));
        gameBoard.appendChild(card);
      });
    }

    function flipCard(card) {
      if (card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length >= 2) {
        return;
      }

      card.classList.add('flipped');
      card.textContent = card.dataset.emoji;
      flippedCards.push(card);
      flipCount++;
      flipsDisplay.textContent = flipCount;

      if (flippedCards.length === 2) {
        const [card1, card2] = flippedCards;
        if (card1.dataset.emoji === card2.dataset.emoji) {
          card1.classList.add('matched');
          card2.classList.add('matched');
          matchedPairs++;
          flippedCards = [];

          // Level complete
          if (matchedPairs === parseInt(gameBoard.children.length / 2)) {
            setTimeout(() => {
              alert(`🎉 Level ${level} complete!`);
              level++;
              startLevel();
            }, 700);
          }
        } else {
          setTimeout(() => {
            card1.classList.remove('flipped');
            card2.classList.remove('flipped');
            card1.textContent = '';
            card2.textContent = '';
            flippedCards = [];
          }, 800);
        }
      }
    }

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Start game
    startLevel();
  </script>

</body>
</html>

